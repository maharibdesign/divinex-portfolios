---
import MainLayout from '../layouts/MainLayout.astro';
const error = Astro.url.searchParams.get('error');
---
<MainLayout title="Sign Up - Divinex">
  <div class="auth-container">
    <div class="auth-form-wrapper">
      <h1>Create Your Portfolio</h1>
      <p>Join the Divinex community to showcase your work.</p>
      <form method="POST" action="/api/auth/signup" class="auth-form">
        <label>Full Name <input type="text" name="full_name" required /></label>
        <label>Email <input type="email" name="email" required /></label>
        <label>Password <input type="password" name="password" minlength="6" required /></label>
        <button type="submit" class="btn-primary">Sign Up</button>
        {error && <div class="form-message error">{error}</div>}
      </form>
      <p class="auth-switch">Already have an account? <a href="/login">Log In</a></p>
    </div>
  </div>
</MainLayout>
<style>
  .auth-container { display: grid; place-items: center; padding: 4rem 1rem; }
  .auth-form-wrapper { max-width: 400px; width: 100%; text-align: center; }
  .auth-form { display: flex; flex-direction: column; gap: 1rem; text-align: left; margin-top: 2rem; }
  .auth-form label { font-weight: 500; }
  .auth-form input { width: 100%; padding: 0.75rem; border-radius: 8px; border: 1px solid var(--border-color); }
  .btn-primary { width: 100%; padding: 0.75rem; border-radius: 8px; border: none; background-color: var(--button-color); color: var(--button-text-color); font-weight: 600; cursor: pointer; }
  .form-message { margin-top: 1rem; padding: 0.75rem; border-radius: 8px; font-size: 0.9rem; }
  .form-message.error { color: #d8000c; background-color: #ffbaba; }
  .auth-switch { margin-top: 2rem; color: var(--hint-color); }
</style>